{% extends "base.html" %}
{% block title %}{{ page_title }}{% endblock %}
{% block content %}
<section class="container">
  <h1>{{ page_title }}</h1>

  <form class="filters" method="get">
    <input type="text" name="q" value="{{ q }}" placeholder="Поиск по заголовку...">
    <label>с даты <input type="date" name="date_from"></label>
    <label>по дату <input type="date" name="date_to"></label>
    <button class="btn">Фильтровать</button>
  </form>

  <div class="grid">
  {% for ev in events %}
    <div class="card">
      <h3><a href="{{ ev.get_absolute_url }}">{{ ev.title }}</a></h3>
      <p>{{ ev.description|truncatechars:180 }}</p>
      <div class="card-actions">
        {% if ev.info_file %}<a class="btn" href="{{ ev.info_file.url }}" download>Информационное письмо</a>{% endif %}
        <a class="btn primary" href="{{ ev.get_register_url }}">Регистрация</a>
      </div>
    </div>
  {% empty %}
    <p>Нет мероприятий по заданным критериям.</p>
  {% endfor %}
  </div>
</section>
{% endblock %}
