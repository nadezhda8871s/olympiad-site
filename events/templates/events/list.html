{# events/templates/events/list.html - список мероприятий #}
<h1>{{ page_title }}</h1>

<div class="events-grid">
  {% for ev in events %}
    <div class="event-card">
      <h2><a href="{{ ev.get_absolute_url }}">{{ ev.title }}</a></h2>
      <p>{{ ev.short_description|default:ev.description|truncatechars:160 }}</p>
      <div class="card-actions">
        {% if ev.info_file_exists %}
          <a class="nav-btn nav-btn--primary" href="{{ ev.info_file.url }}" download target="_blank" rel="noopener">Информационное письмо</a>
        {% elif ev.info_letter %}
          <a class="nav-btn nav-btn--primary" href="{{ ev.info_letter.url }}" download target="_blank" rel="noopener">Информационное письмо</a>
        {% endif %}
        <a class="nav-btn nav-btn--primary" href="{{ ev.get_register_url }}">Регистрация</a>
      </div>
    </div>
  {% empty %}
    <p>Нет доступных мероприятий.</p>
  {% endfor %}
</div>