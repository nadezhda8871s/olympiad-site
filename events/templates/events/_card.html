{% comment %}Safe event card used on home and lists. Does not assume optional files exist.{% endcomment %}
<style>
.nav-btn{display:inline-flex;align-items:center;justify-content:center;padding:.6rem 1.1rem;border:1.5px solid rgba(255,255,255,.7);border-radius:999px;color:#fff;text-decoration:none;font-weight:700;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.02));transition:transform .18s ease,box-shadow .18s ease,background .2s ease,color .2s ease;box-shadow:0 6px 18px rgba(0,0,0,.15),inset 0 -8px 12px rgba(0,0,0,.12)}
.nav-btn:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(0,0,0,.2),inset 0 -12px 14px rgba(0,0,0,.18);background:linear-gradient(90deg,#f6c453,#ff4fa3);color:#101114}
.nav-btn--primary{background:linear-gradient(90deg,#f6c453,#ff4fa3);color:#101114;border-color:rgba(255,79,163,.5)}
.nav-btn--primary:hover{background:linear-gradient(90deg,#ffd470,#ff6bb8);box-shadow:0 12px 28px rgba(216,27,96,.3),inset 0 -12px 14px rgba(0,0,0,.15)}
</style>
<article class="event-card">
  <a href="{{ event.get_absolute_url|default:'#' }}" class="event-card__link">
    <div class="event-card__image">
      {% if event.image %}
        <img src="{{ event.image.url }}" alt="{{ event.title|default:'Event' }}">
      {% elif event.cover %}
        <img src="{{ event.cover.url }}" alt="{{ event.title|default:'Event' }}">
      {% endif %}
    </div>
    <div class="event-card__body">
      <h3 class="event-card__title">{{ event.title|default:"Без названия" }}</h3>
      {% if event.subtitle %}
        <p class="event-card__subtitle">{{ event.subtitle }}</p>
      {% endif %}
      <div class="event-card__meta">
        {% if event.start_date %}<span class="event-card__date">{{ event.start_date|date:"d.m.Y" }}</span>{% endif %}
        {% if event.price_rub %}<span class="event-card__price">{{ event.price_rub }} ₽</span>{% elif event.price %}<span class="event-card__price">{{ event.price }} ₽</span>{% endif %}
      </div>
    </div>
  </a>
  <div class="event-card__actions">
    {% if event.info_file %}
      <a class="nav-btn" href="{{ event.info_file.url }}" target="_blank" rel="noopener">Информационное письмо</a>
    {% elif event.info_letter %}
      <a class="nav-btn" href="{{ event.info_letter.url }}" target="_blank" rel="noopener">Информационное письмо</a>
    {% endif %}
    {% if event.registration_form %}
      <a class="nav-btn nav-btn--primary" href="{{ event.registration_form.url }}" target="_blank" rel="noopener">Заявка</a>
    {% endif %}
  </div>
</article>
