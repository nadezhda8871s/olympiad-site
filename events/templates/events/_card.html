{# Safe event card used on lists. Uses fallback attributes if present. #}
<article class="event-card">
  <a href="{{ event.get_absolute_url|default:'#' }}" class="event-card__link">
    <div class="event-card__body">
      <h3 class="event-card__title">{{ event.title|default:"Без названия" }}</h3>
      {% if event.subtitle %}
        <p class="event-card__subtitle">{{ event.subtitle }}</p>
      {% endif %}
      <div class="event-card__meta">
        {% if event.start_date %}<span class="event-card__date">{{ event.start_date|date:"d.m.Y" }}</span>{% endif %}
        {% if event.price %}<span class="event-card__price">{{ event.price }} ₽</span>{% elif event.price_rub %}<span class="event-card__price">{{ event.price_rub }} ₽</span>{% endif %}
      </div>
    </div>
  </a>
  <style>
    .nav-btn{display:inline-block;text-decoration:none;border:1px solid #d1d5db;border-radius:6px;padding:8px 12px;background:#fff;color:#111}
    .nav-btn--primary{background:#2563eb;border-color:#2563eb;color:#fff}
    .event-card__actions{margin-top:10px;display:flex;gap:8px}
  </style>
  <div class="event-card__actions">
    {% if event.info_letter %}
      <a class="nav-btn" href="{{ event.info_letter.url }}" target="_blank" rel="noopener">Информационное письмо</a>
    {% elif event.info_file %}
      <a class="nav-btn" href="{{ event.info_file.url }}" target="_blank" rel="noopener">Информационное письмо</a>
    {% endif %}
    {% if event.get_register_url %}
      <a class="nav-btn nav-btn--primary" href="{{ event.get_register_url }}">Регистрация</a>
    {% elif event.registration_form %}
      <a class="nav-btn nav-btn--primary" href="{{ event.registration_form.url }}" target="_blank" rel="noopener">Регистрация</a>
    {% endif %}
  </div>
</article>
