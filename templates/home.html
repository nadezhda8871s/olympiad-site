{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Онлайн научные мероприятия — Главная" %}{% endblock %}

{% block content %}
<section class="hero">
  <h1 class="hero-title">{% trans "Онлайн научные мероприятия для школьников, учащихся СПО, студентов, аспирантов, учёных" %}</h1>
 
  <form class="search-form" action="" onsubmit="return false;">
    <input id="globalSearch" type="search" placeholder="{% trans 'Начните вводить название мероприятия…' %}" aria-label="{% trans 'Поиск по заголовку мероприятия' %}">
    <button type="button" class="cta" onclick="window.performGlobalSearch && window.performGlobalSearch()">{% trans "Искать" %}</button>
  </form>

  <div class="tiles">
    <a class="tile" href="/olympiads/">
      <span class="tile-title">{% trans "Олимпиады" %}</span>
    </a>
    <a class="tile" href="/contests/">
      <span class="tile-title">{% trans "Конкурсы" %}</span>
    </a>
    <a class="tile" href="/conferences/">
      <span class="tile-title">{% trans "Конференции" %}</span>
    </a>
    <a class="tile" href="https://vsem.site/" target="_blank" rel="noopener">
      <span class="tile-title">{% trans "Монографии" %}</span>
    </a>
    <a class="tile" href="https://vsem.site/" target="_blank" rel="noopener">
      <span class="tile-title">{% trans "Наши журналы" %}</span>
    </a>
  </div>
</section>

<section class="section">
  <div class="section-head">
    <h2 class="section-title">{% trans "Актуальные мероприятия" %}</h2>
  </div>

  <div id="actualEvents" class="cards">
    {% for ev in featured_events %}
      <article class="card">
        <h3 class="card-title">{{ ev.title }}</h3>
        <p class="card-desc">{{ ev.short_description }}</p>
        <div class="card-meta">
          <span class="badge">{{ ev.get_event_type_display }}</span>
          {% if ev.price %}<span class="badge">{{ ev.price }} ₽</span>{% endif %}
        </div>
        <div class="card-actions">
          {% if ev.info_file %}
            <a class="btn ghost" href="{{ ev.info_file.url }}" download>{% trans "Информационное письмо" %}</a>
          {% endif %}
          <a class="btn solid" href="{{ ev.get_registration_url }}">{% trans "Регистрация" %}</a>
        </div>
      </article>
    {% empty %}
      <div class="empty">{% trans "Пока нет выбранных мероприятий. Добавьте их в админке." %}</div>
    {% endfor %}
  </div>
</section>
{% endblock %}
