{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ" %}{% endblock %}

{% block content %}
<section class="hero container">
  <h1>{% trans "Ğ’ÑĞµÑ€Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€ Ğ½Ğ°ÑƒĞºĞ¸ Ğ¸ Ğ¸Ğ½Ğ½Ğ¾Ğ²Ğ°Ñ†Ğ¸Ğ¹" %}</h1>

  {# â”€â”€ Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ° Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
  <form class="search-form" action="{% url 'home' %}" method="get" style="margin-top:1rem;">
    <div class="search">
      <input
        type="text"
        name="q"
        value="{{ request.GET.q|default_if_none:'' }}"
        placeholder="{% trans 'ĞŸĞ¾Ğ¸ÑĞº Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹â€¦' %}"
        aria-label="{% trans 'ĞŸĞ¾Ğ¸ÑĞº' %}">
      <button type="submit">{% trans "ĞĞ°Ğ¹Ñ‚Ğ¸" %}</button>
    </div>
  </form>

  {# Ğ’ĞĞ–ĞĞ: Ğ·Ğ´ĞµÑÑŒ Ğ ĞĞĞ¬Ğ¨Ğ• Ğ±Ñ‹Ğ»Ğ° Ñ„Ñ€Ğ°Ğ·Ğ° Ğ¿Ñ€Ğ¾ Â«ĞĞ°Ğ³Ñ€Ğ°Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹â€¦Â». ĞœÑ‹ ĞµÑ‘ Ğ£Ğ”ĞĞ›Ğ˜Ğ›Ğ˜ Ğ¿Ğ¾ Ğ²Ğ°ÑˆĞµĞ¼Ñƒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ. #}
</section>

{# â”€â”€ Ğ¡ĞµÑ‚ĞºĞ° Ğ°ĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ñ…/Ğ¸Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
<section class="container" style="margin-top:2rem;">
  <h2 style="margin-bottom:1rem;">{% trans "ĞĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ" %}</h2>

  {% if featured_events %}
    <div class="cards events-grid">
      {% for event in featured_events %}
        <article class="card event-card">
          <div class="card-body">
            <h3 class="card-title">
              <a href="{% if event.get_absolute_url %}{{ event.get_absolute_url }}{% elif event.slug %}{% url 'events:detail' event.slug %}{% else %}#{% endif %}">
                {{ event.title|default:"Ğ‘ĞµĞ· Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ" }}
              </a>
            </h3>

            {% if event.short_description %}
              <p class="card-text">{{ event.short_description }}</p>
            {% elif event.description %}
              <p class="card-text">{{ event.description|truncatechars:160 }}</p>
            {% endif %}

            <div class="card-meta" style="font-size:.9rem;opacity:.9;">
              {% if event.start_date %}<span>ğŸ—“ {{ event.start_date }}</span>{% endif %}
              {% if event.category %}<span>â€¢ {{ event.category }}</span>{% endif %}
              {% if event.is_online %}<span>â€¢ {% trans "Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½" %}</span>{% endif %}
            </div>

            <div class="card-actions" style="display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.75rem;">
              {# ĞšĞĞĞŸĞšĞ Ğ Ğ•Ğ“Ğ˜Ğ¡Ğ¢Ğ ĞĞ¦Ğ˜Ğ˜ â€” Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞµ Ğ¿Ğ¾Ğ»Ğµ/Ğ¼ĞµÑ‚Ğ¾Ğ´, Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ² Ğ±ÑĞºĞµĞ½Ğ´Ğµ Ğ½Ğµ Ğ¼ĞµĞ½ÑĞµĞ¼ #}
              {% if event.registration_url %}
                <a class="btn" href="{{ event.registration_url }}" rel="noopener" target="_blank">{% trans "Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ" %}</a>
              {% elif event.get_register_url %}
                <a class="btn" href="{{ event.get_register_url }}">{{ _("Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ") }}</a>
              {% elif event.slug %}
                {# ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¹ fallback Ğ½Ğ° Ğ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¾ÑƒÑ‚ Ğ²Ğ¸Ğ´Ğ° events:register <slug> #}
                <a class="btn" href="{% url 'events:register' event.slug %}">{% trans "Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ" %}</a>
              {% else %}
                {# ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ URL Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ â€” Ğ¿Ñ€ÑÑ‡ĞµĞ¼ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ, Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ»Ğ¾Ğ¼Ğ°ĞµĞ¼ #}
              {% endif %}

              {# ĞšĞĞĞŸĞšĞ Â«Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜ĞĞĞĞĞ• ĞŸĞ˜Ğ¡Ğ¬ĞœĞÂ» â€” Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ filefield/URL, ĞµÑĞ»Ğ¸ Ğ¿Ñ€Ğ¸ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ #}
              {% if event.info_letter %}
                <a class="btn btn-secondary" href="{{ event.info_letter.url }}" download>
                  {% trans "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾" %}
                </a>
              {% elif event.info_letter_url %}
                <a class="btn btn-secondary" href="{{ event.info_letter_url }}" rel="noopener" target="_blank">
                  {% trans "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾" %}
                </a>
              {% endif %}

              {# Ğ¡ÑÑ‹Ğ»ĞºĞ° Â«ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµÂ» #}
              <a class="btn-outline" href="{% if event.get_absolute_url %}{{ event.get_absolute_url }}{% elif event.slug %}{% url 'events:detail' event.slug %}{% else %}#{% endif %}">
                {% trans "ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ" %}
              </a>
            </div>
          </div>
        </article>
      {% endfor %}
    </div>
  {% else %}
    <p style="opacity:.8;">{% trans "Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ½ĞµÑ‚ Ğ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹." %}</p>
  {% endif %}
</section>

{% endblock %}
